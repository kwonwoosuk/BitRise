# ğŸ“ˆ BitRise

ì‹¤ì‹œê°„ ê°€ìƒí™”í ì •ë³´ì™€ íŠ¸ë Œë”© ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. Upbit ê±°ë˜ì†Œì˜ KRW ë§ˆì¼“ ì •ë³´ì™€ CoinGeckoì˜ ê¸€ë¡œë²Œ íŠ¸ë Œë”© ë°ì´í„°ë¥¼ í†µí•´ ì•”í˜¸í™”í ì‹œì¥ ë™í–¥ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- í”„ë¡œì íŠ¸ ì†Œê°œ
- ì£¼ìš”ê¸°ëŠ¥
- ê¸°ìˆ  ìŠ¤íƒ
- í”„ë¡œì íŠ¸ êµ¬ì¡°
- ì£¼ìš” êµ¬í˜„ ë‚´ìš©
- íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

## ğŸ—“ï¸ ê°œë°œ ì •ë³´
- **ì§‘ì¤‘ê°œë°œ ê¸°ê°„**: 2025.03.07 ~ 2025.03.11 (5ì¼)
- **ê°œë°œ ì¸ì›**: 1ëª…
- **ë‹´ë‹¹ ì—…ë¬´**: ê¸°íš, ë””ìì¸, ê°œë°œ, í…ŒìŠ¤íŠ¸

## ğŸ’ğŸ»â€â™‚ï¸ í”„ë¡œì íŠ¸ ì†Œê°œ

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitRiseëŠ” ì‹¤ì‹œê°„ ê°€ìƒí™”í ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Upbit APIë¥¼ í†µí•´ KRW ë§ˆì¼“ì˜ ì‹¤ì‹œê°„ ê±°ë˜ ì •ë³´ë¥¼ ì œê³µí•˜ê³ ,    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CoinGecko APIë¥¼ í™œìš©í•´ ê¸€ë¡œë²Œ íŠ¸ë Œë”© ì½”ì¸ê³¼ NFT ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ì§ê´€ì ì¸ ì •ë ¬ ê¸°ëŠ¥ê³¼ ì¦ê²¨ì°¾ê¸° ì‹œìŠ¤í…œìœ¼ë¡œ    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ì‚¬ìš©ìê°€ ê´€ì‹¬ ìˆëŠ” ì½”ì¸ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## â­ï¸ ì£¼ìš” ê¸°ëŠ¥

- **ì‹¤ì‹œê°„ ê±°ë˜ì†Œ ì •ë³´**: Upbit KRW ë§ˆì¼“ì˜ ì‹¤ì‹œê°„ ì½”ì¸ ê°€ê²© ë° ê±°ë˜ ë°ì´í„°
- **ë‹¤ì–‘í•œ ì •ë ¬ ì˜µì…˜**: í˜„ì¬ê°€, ì „ì¼ëŒ€ë¹„, ê±°ë˜ëŒ€ê¸ˆ ê¸°ì¤€ ì •ë ¬ ê¸°ëŠ¥
- **íŠ¸ë Œë”© ì •ë³´**: ê¸€ë¡œë²Œ ì¸ê¸° ì½”ì¸ ë° NFT íŠ¸ë Œë”© ë°ì´í„°
- **ì½”ì¸ ìƒì„¸ ì •ë³´**: ê°€ê²© ì°¨íŠ¸, 24ì‹œê°„ ê³ ì €ê°€, ì‹œê°€ì´ì•¡ ë“± ìƒì„¸ ë¶„ì„
- **í†µí•© ê²€ìƒ‰**: ì½”ì¸, NFT, ê±°ë˜ì†Œë³„ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰
- **ì¦ê²¨ì°¾ê¸° ê´€ë¦¬**: ê´€ì‹¬ ì½”ì¸ ë¡œì»¬ ì €ì¥ ë° ê´€ë¦¬
- **ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ì—°ê²° ìƒíƒœ í™•ì¸ ë° ì˜¤í”„ë¼ì¸ ëŒ€ì‘

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **ì–¸ì–´ ë° í”„ë ˆì„ì›Œí¬**: Swift, UIKit
- **ì•„í‚¤í…ì²˜**: MVVM + RxSwift Input/Output íŒ¨í„´
- **UI ë ˆì´ì•„ì›ƒ**: SnapKit
- **ë„¤íŠ¸ì›Œí¬ í†µì‹ **: Alamofire + RxSwift
- **ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°**: RxSwift, RxCocoa
- **ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤**: RealmSwift
- **ì´ë¯¸ì§€ ë¡œë”©**: Kingfisher
- **ì°¨íŠ¸**: DGCharts
- **ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§**: Network Framework

## ğŸ“± í”„ë¡œì íŠ¸ êµ¬ì¡°

```
BitRise/
â”œâ”€â”€ Application/
â”‚   â”œâ”€â”€ AppDelegate.swift
â”‚   â”œâ”€â”€ SceneDelegate.swift
â”‚   â””â”€â”€ BitRiseTabBarController.swift
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ API Models/
â”‚   â”‚   â”œâ”€â”€ UpbitTicker.swift
â”‚   â”‚   â”œâ”€â”€ Trending.swift
â”‚   â”‚   â”œâ”€â”€ Search.swift
â”‚   â”‚   â””â”€â”€ Markets(detail).swift
â”‚   â”œâ”€â”€ Realm Models/
â”‚   â”‚   â””â”€â”€ FavoriteCoin.swift
â”‚   â””â”€â”€ Error/
â”‚       â””â”€â”€ APIError.swift
â”œâ”€â”€ ViewModels/
â”‚   â”œâ”€â”€ ExchangeViewModel.swift
â”‚   â”œâ”€â”€ TrendingViewModel.swift
â”‚   â”œâ”€â”€ SearchViewModel.swift
â”‚   â”œâ”€â”€ SearchCoinViewModel.swift
â”‚   â””â”€â”€ CoinDetailViewModel.swift
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”œâ”€â”€ Exchange/
â”‚   â”‚   â”‚   â””â”€â”€ ExchangeViewController.swift
â”‚   â”‚   â”œâ”€â”€ Trending/
â”‚   â”‚   â”‚   â”œâ”€â”€ TrendingViewController.swift
â”‚   â”‚   â”‚   â””â”€â”€ SearchViewController.swift
â”‚   â”‚   â”œâ”€â”€ CoinDetail/
â”‚   â”‚   â”‚   â””â”€â”€ CoinDetailViewController.swift
â”‚   â”‚   â””â”€â”€ Search/
â”‚   â”‚       â”œâ”€â”€ SearchTabPageViewController.swift
â”‚   â”‚       â””â”€â”€ SearchCoinViewController.swift
â”‚   â”œâ”€â”€ Views/
â”‚   â”‚   â”œâ”€â”€ ExchangeView.swift
â”‚   â”‚   â”œâ”€â”€ TrendingView.swift
â”‚   â”‚   â”œâ”€â”€ CoinDetailView.swift
â”‚   â”‚   â””â”€â”€ SearchCoinView.swift
â”‚   â”œâ”€â”€ Cells/
â”‚   â”‚   â”œâ”€â”€ ExchangeTableViewCell.swift
â”‚   â”‚   â”œâ”€â”€ TrendingCoinCell.swift
â”‚   â”‚   â”œâ”€â”€ TrendingNFTCell.swift
â”‚   â”‚   â””â”€â”€ SearchCoinCell.swift
â”‚   â””â”€â”€ Base/
â”‚       â”œâ”€â”€ BaseViewController.swift
â”‚       â”œâ”€â”€ BaseView.swift
â”‚       â”œâ”€â”€ BaseTableViewCell.swift
â”‚       â””â”€â”€ BaseCollectionViewCell.swift
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ Network/
â”‚   â”‚   â”œâ”€â”€ NetworkManager.swift
â”‚   â”‚   â””â”€â”€ NetworkMonitor.swift
â”‚   â”œâ”€â”€ Database/
â”‚   â”‚   â””â”€â”€ FavoriteManager.swift
â”‚   â””â”€â”€ Utils/
â”‚       â”œâ”€â”€ Constants.swift
â”‚       â”œâ”€â”€ APIURL.swift
â”‚       â””â”€â”€ NumberFormatterUtil.swift
â”œâ”€â”€ Extensions/
â”‚   â”œâ”€â”€ Date+Extension.swift
â”‚   â”œâ”€â”€ UIViewController+Extension.swift
â”‚   â””â”€â”€ UIColor+Extension.swift
â””â”€â”€ Resources/
    â”œâ”€â”€ Assets.xcassets
    â””â”€â”€ Info.plist
```

## ğŸ’¡ ì£¼ìš” êµ¬í˜„ ë‚´ìš©

### **í™•ì¥ì„± ë†’ì€ MVVM + RxSwift Input/Output íŒ¨í„´ ì„¤ê³„**
* ViewModelì˜ ì…ì¶œë ¥ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ëŠ” Input/Output êµ¬ì¡°ë¡œ ë‹¨ë°©í–¥ ë°ì´í„° í”Œë¡œìš° êµ¬í˜„
* í”„ë¡œí† ì½œ ê¸°ë°˜ BaseViewModelë¡œ ì¼ê´€ëœ ì•„í‚¤í…ì²˜ í‘œì¤€í™” ë° ì½”ë“œ ì¬ì‚¬ìš©ì„± í–¥ìƒ
* Transform ë©”ì„œë“œë¥¼ í†µí•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìº¡ìŠí™”ë¡œ í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í™•ë³´
* DisposeBagì„ í™œìš©í•œ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¡œ ìˆœí™˜ ì°¸ì¡° ë° ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

```swift
protocol BaseViewModel {
    var disposeBag: DisposeBag { get }
    associatedtype Input
    associatedtype Output
    func transform(input: Input) -> Output
}

final class ExchangeViewModel: BaseViewModel {
    struct Input {
        let viewDidLoad: Observable<Void>
        let timerTrigger: Observable<Void>
        let currentPriceSortTap: ControlEvent<Void>
        let changeRateSortTap: ControlEvent<Void>
        let tradePriceSortTap: ControlEvent<Void>
    }
    
    struct Output {
        let tickers: Driver<[UpbitTicker]>
        let error: Driver<APIError?>
        let sortType: Driver<SortType?>
        let sortOrder: Driver<SortOrder>
    }
    
    func transform(input: Input) -> Output {
        input.currentPriceSortTap
            .subscribe(onNext: { [weak self] in
                self?.toggleSort(type: .currentPrice)
            })
            .disposed(by: disposeBag)
        
        return Output(
            tickers: tickersRelay.asDriver(),
            error: errorRelay.asDriver(),
            sortType: sortTypeRelay.asDriver(),
            sortOrder: sortOrderRelay.asDriver()
        )
    }
}
```

### **ì•ˆì •ì ì¸ ì‹¤ì‹œê°„ ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•œ Driver ê¸°ë°˜ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼**
* RxCocoaì˜ Driverë¥¼ í™œìš©í•´ ë©”ì¸ ìŠ¤ë ˆë“œ ë³´ì¥ ë° ì—ëŸ¬ ì „íŒŒ ì°¨ë‹¨ìœ¼ë¡œ UI ì•ˆì •ì„± í™•ë³´
* onErrorJustReturnì„ í†µí•œ ê¸°ë³¸ê°’ ì œê³µìœ¼ë¡œ ì•± í¬ë˜ì‹œ ë°©ì§€ ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
* share() ì—°ì‚°ìê°€ ë‚´ì¥ëœ Driverë¡œ ë‹¤ì¤‘ êµ¬ë… ì‹œì—ë„ ë‹¨ì¼ ì‹¤í–‰ ë³´ì¥í•˜ì—¬ ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„± ì¦ëŒ€
* Infinite sequence íŠ¹ì„±ìœ¼ë¡œ UI ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì˜ ì§€ì†ì„± í™•ë³´

```swift
struct Output {
    let tickers: Driver<[UpbitTicker]>
    let error: Driver<APIError?>
    let sortType: Driver<SortType?>
    let sortOrder: Driver<SortOrder>
}

// Driver ìƒì„± ì‹œ ì—ëŸ¬ ì•ˆì „ì„± í™•ë³´
return Output(
    tickers: tickersRelay.asDriver(),
    error: errorRelay.asDriver(),
    sortType: sortTypeRelay.asDriver(onErrorJustReturn: nil),
    sortOrder: sortOrderRelay.asDriver(onErrorJustReturn: .none)
)
```

### **ì‹¤ì‹œê°„ ê°€ê²© ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ íƒ€ì´ë¨¸ ê¸°ë°˜ ë°ì´í„° ë™ê¸°í™”**
* 5ì´ˆ ê°„ê²© íƒ€ì´ë¨¸ë¡œ ì‹¤ì‹œê°„ ê°€ê²© ë°ì´í„° ì—…ë°ì´íŠ¸ êµ¬í˜„
* í™”ë©´ ì „í™˜ ì‹œ íƒ€ì´ë¨¸ ìë™ ê´€ë¦¬ë¡œ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ë°©ì§€ ë° ë°°í„°ë¦¬ ìˆ˜ëª… ë³´í˜¸
* ì •ë ¬ ìƒíƒœ ìœ ì§€ ë¡œì§ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì„¤ì •í•œ ì •ë ¬ ê¸°ì¤€ì´ ë°ì´í„° ê°±ì‹  í›„ì—ë„ ì§€ì†
* Disposable ê¸°ë°˜ íƒ€ì´ë¨¸ ê´€ë¦¬ë¡œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ ë° ë¦¬ì†ŒìŠ¤ ìµœì í™”

```swift
func startTimer() {
    stopTimer() // ê¸°ì¡´ íƒ€ì´ë¨¸ í•´ì œë¡œ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
    
    timerDisposable = Observable<Int>.interval(.seconds(5), scheduler: MainScheduler.instance)
        .bind(onNext: { [weak self] _ in
            self?.fetchTickers()
        })
}

func stopTimer() {
    timerDisposable?.dispose()
    timerDisposable = nil
}

override func viewWillAppear(_ animated: Bool) {
    super.viewWillAppear(animated)
    viewModel.startTimer()
}

override func viewWillDisappear(_ animated: Bool) {
    super.viewWillDisappear(animated)
    viewModel.stopTimer()
}
```

### **ìœ ì—°í•œ ì •ë ¬ ì‹œìŠ¤í…œ êµ¬í˜„ì„ ìœ„í•œ ìƒíƒœ ê´€ë¦¬ íŒ¨í„´**
* ì—´ê±°í˜• ê¸°ë°˜ ì •ë ¬ íƒ€ì… ë° ìˆœì„œ ê´€ë¦¬ë¡œ íƒ€ì… ì•ˆì „ì„± í™•ë³´
* 3ë‹¨ê³„ ì •ë ¬ ìƒíƒœ ìˆœí™˜ (ì—†ìŒ â†’ ë‚´ë¦¼ì°¨ìˆœ â†’ ì˜¤ë¦„ì°¨ìˆœ â†’ ì—†ìŒ) êµ¬í˜„ìœ¼ë¡œ ì§ê´€ì ì¸ ì‚¬ìš©ì ê²½í—˜ ì œê³µ
* í˜„ì¬ ì •ë ¬ ìƒíƒœë¥¼ ë³´ì¡´í•˜ëŠ” ë°ì´í„° ê°±ì‹  ë¡œì§ìœ¼ë¡œ ì‚¬ìš©ì í¸ì˜ì„± í–¥ìƒ
* UI ìƒíƒœì™€ ë°ì´í„° ì •ë ¬ ë¡œì§ ë¶„ë¦¬ë¡œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ ë° ì½”ë“œ ê°€ë…ì„± í–¥ìƒ

```swift
enum SortType {
    case currentPrice
    case changeRate
    case tradePrice
}

enum SortOrder {
    case ascending
    case descending
    case none
}

private func toggleSort(type: SortType) {
    let currentType = sortTypeRelay.value
    let currentOrder = sortOrderRelay.value
    
    if currentType == type {
        switch currentOrder {
        case .none:
            sortOrderRelay.accept(.descending)
            sortTypeRelay.accept(type)
            applySorting(tickers: tickersRelay.value, type: type, ascending: false)
        case .descending:
            sortOrderRelay.accept(.ascending)
            applySorting(tickers: tickersRelay.value, type: type, ascending: true)
        case .ascending:
            sortOrderRelay.accept(.none)
            sortTypeRelay.accept(nil)
            // ê¸°ë³¸ ì •ë ¬ë¡œ ë³µê·€
            let sortedTickers = sortByTradePrice(tickers: tickersRelay.value, ascending: false)
            tickersRelay.accept(sortedTickers)
        }
    } else {
        // ìƒˆë¡œìš´ ì •ë ¬ ê¸°ì¤€ ì„ íƒ
        sortTypeRelay.accept(type)
        sortOrderRelay.accept(.descending)
        applySorting(tickers: tickersRelay.value, type: type, ascending: false)
    }
}
```

### **ë„¤íŠ¸ì›Œí¬ ì•ˆì •ì„± í–¥ìƒì„ ìœ„í•œ ì¢…í•©ì  ì—ëŸ¬ ì²˜ë¦¬ ì‹œìŠ¤í…œ**
* APIë³„ ì„¸ë¶„í™”ëœ ì—ëŸ¬ ì¼€ì´ìŠ¤ ì •ì˜ë¡œ êµ¬ì²´ì ì¸ ì—ëŸ¬ ìƒí™© ëŒ€ì‘
* HTTP ìƒíƒœ ì½”ë“œ ê¸°ë°˜ ì—ëŸ¬ ë¶„ë¥˜ë¡œ ì •í™•í•œ ë¬¸ì œ ì§„ë‹¨ ë° ì‚¬ìš©ì ê°€ì´ë“œ ì œê³µ
* ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µìœ¼ë¡œ ê¸°ìˆ ì  ì˜¤ë¥˜ë¥¼ ì´í•´í•˜ê¸° ì‰¬ìš´ ì–¸ì–´ë¡œ ë³€í™˜
* ì—´ê±°í˜• ê¸°ë°˜ ì—ëŸ¬ ê´€ë¦¬ë¡œ ì»´íŒŒì¼ íƒ€ì„ ì•ˆì „ì„± í™•ë³´

```swift
enum APIError: Error {
    case upbitError(UpbitError)
    case coinGeckoError(CoinGeckoError)
    case callLimitExceeded // 429 ê³µí†µ
    case unknownError
    case invalidURL
    
    enum UpbitError {
        case invalidParameter  // 400
    }
    
    enum CoinGeckoError {
        case badRequest           // 400
        case unauthorized         // 401
        case forbidden            // 403
        case serverError          // 500
        case serviceUnavailable   // 503
        case corsError
    }
    
    var message: String {
        switch self {
        case .callLimitExceeded:
            return "í˜¸ì¶œ í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤."
        case .invalidURL:
            return "ì˜ëª»ëœ URLì…ë‹ˆë‹¤."
        case .coinGeckoError(let error):
            switch error {
            case .badRequest:
                return "ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤. ìš”ì²­ í˜•ì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš”."
            case .serviceUnavailable:
                return "ì„œë¹„ìŠ¤ë¥¼ í˜„ì¬ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
            // ... ë‹¤ë¥¸ ì¼€ì´ìŠ¤ë“¤
            }
        }
    }
}
```

### **ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬í˜„**
* Network Frameworkë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ ê°ì§€
* ì—°ê²° ìƒì‹¤ ì‹œ ìë™ UI ì•Œë¦¼ í‘œì‹œ ë° ì¬ì—°ê²° ì‹œ ì•Œë¦¼ í•´ì œë¡œ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
* ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•œ ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ìë™ ë°ì´í„° ê°±ì‹ 
* ì „ì—­ ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ ì•± ì „ì²´ì—ì„œ ì¼ê´€ëœ ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê´€ë¦¬

```swift
final class NetworkMonitor {
    static let shared = NetworkMonitor()
    private let monitor = NWPathMonitor()
    
    var isConnected: Bool {
        return status == .satisfied
    }
    
    func startMonitoring() {
        monitor.pathUpdateHandler = { [weak self] path in
            self?.status = path.status
            let isConnected = path.status == .satisfied
            
            DispatchQueue.main.async {
                self?.onNetworkStatusChanged?(isConnected)
                
                if isConnected {
                    AlertInfoView.shared.hideNetworkAlert()
                } else {
                    AlertInfoView.shared.showNetworkAlert()
                }
            }
        }
        
        monitor.start(queue: DispatchQueue.global())
    }
}

// ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ìë™ ì¬ì‹œë„ ë¡œì§
@objc private func retryButtonTapped() {
    if NetworkMonitor.shared.isConnected {
        hideNetworkAlert()
        retryAction?() // ì‹¤íŒ¨í•œ ì‘ì—… ì¬ì‹œë„
    } else {
        showNetworkToast()
    }
}
```

### **ì¦ê²¨ì°¾ê¸° ì‹œìŠ¤í…œì„ ìœ„í•œ Realm ê¸°ë°˜ ë¡œì»¬ ë°ì´í„° ê´€ë¦¬**
* RealmSwiftë¥¼ í™œìš©í•œ ì˜êµ¬ ì €ì¥ì†Œ êµ¬í˜„ìœ¼ë¡œ ì•± ì¢…ë£Œ í›„ì—ë„ ì‚¬ìš©ì ì„¤ì • ìœ ì§€
* RxSwift ê¸°ë°˜ ë°ì´í„° ë³€ê²½ ì•Œë¦¼ ì‹œìŠ¤í…œìœ¼ë¡œ ì¦ê²¨ì°¾ê¸° ìƒíƒœ ì‹¤ì‹œê°„ ë™ê¸°í™”
* ì•ˆì „í•œ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¡œ ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥ ë° ë™ì‹œì„± ë¬¸ì œ í•´ê²°
* ì‹±ê¸€í†¤ íŒ¨í„´ ê¸°ë°˜ ì¤‘ì•™í™”ëœ ì¦ê²¨ì°¾ê¸° ê´€ë¦¬ë¡œ ì¼ê´€ëœ ìƒíƒœ ìœ ì§€

```swift
final class FavoriteManager {
    static let shared = FavoriteManager()
    private let realm: Realm
    private let favoritesChangedRelay = PublishRelay<Void>()
    
    var favoritesChanged: Observable<Void> {
        return favoritesChangedRelay.asObservable()
    }
    
    func toggleFavorite(coinId: String, name: String) -> Bool {
        var isAdded = false
        
        do {
            try realm.write {
                if let existingFavorite = realm.object(ofType: FavoriteCoin.self, forPrimaryKey: coinId) {
                    realm.delete(existingFavorite)
                    isAdded = false
                } else {
                    let newFavorite = FavoriteCoin(id: coinId, name: name)
                    realm.add(newFavorite)
                    isAdded = true
                }
            }
            favoritesChangedRelay.accept(()) // ë³€ê²½ ì•Œë¦¼ ë°œì†¡
            return isAdded
        } catch {
            print("ì¦ê²¨ì°¾ê¸° í† ê¸€ ì‹¤íŒ¨ \(error)")
            return false
        }
    }
}
```

### **íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ë¡œë”©ì„ ìœ„í•œ Kingfisher ìµœì í™”**
* Kingfisher ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œ ë¹„ë™ê¸° ì´ë¯¸ì§€ ë¡œë”©ìœ¼ë¡œ UI ë¸”ë¡œí‚¹ ë°©ì§€
* ë‚´ì¥ ìºì‹± ì‹œìŠ¤í…œìœ¼ë¡œ ì¤‘ë³µ ë‹¤ìš´ë¡œë“œ ë°©ì§€ ë° ë¡œë”© ì†ë„ í–¥ìƒ
* placeholder ì´ë¯¸ì§€ ì œê³µìœ¼ë¡œ ë¡œë”© ì¤‘ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
* ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬ë¡œ ëŒ€ìš©ëŸ‰ ì´ë¯¸ì§€ ëª©ë¡ì—ì„œë„ ì•ˆì •ì ì¸ ì„±ëŠ¥ ìœ ì§€

```swift
// ì…€ì—ì„œ ì´ë¯¸ì§€ ë¡œë”© êµ¬í˜„
if let url = URL(string: coin.thumb) {
    coinImageView.kf.setImage(
        with: url, 
        placeholder: UIImage(systemName: "questionmark.circle")
    )
} else {
    coinImageView.image = UIImage(systemName: "questionmark.circle")
}

override func prepareForReuse() {
    super.prepareForReuse()
    coinImageView.image = nil // ë©”ëª¨ë¦¬ ì •ë¦¬
    // ë‹¤ë¥¸ UI ìš”ì†Œ ì´ˆê¸°í™”...
}
```

### **ì‚¬ìš©ì ê²½í—˜ í–¥ìƒì„ ìœ„í•œ ì»¤ìŠ¤í…€ UI ì»´í¬ë„ŒíŠ¸ ì„¤ê³„**
* ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì •ë ¬ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë¡œ ì¼ê´€ëœ UI ë° ë™ì‘ êµ¬í˜„
* ìƒíƒœ ê¸°ë°˜ ì‹œê°ì  í”¼ë“œë°±ìœ¼ë¡œ í˜„ì¬ ì •ë ¬ ìƒíƒœë¥¼ ì§ê´€ì ìœ¼ë¡œ í‘œì‹œ
* SnapKitì„ í™œìš©í•œ Auto Layoutìœ¼ë¡œ ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸° ëŒ€ì‘
* ì»´í¬ë„ŒíŠ¸ ìˆ˜ì¤€ì˜ ìº¡ìŠí™”ë¡œ ì½”ë“œ ì¬ì‚¬ìš©ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

```swift
class SortButton: UIButton {
    private let nameLabel = UILabel()
    private let upArrowImageView = UIImageView()
    private let downArrowImageView = UIImageView()
    
    var sortOrder: SortOrder = .none {
        didSet {
            updateAppearance()
        }
    }
    
    private func updateAppearance() {
        switch sortOrder {
        case .ascending:
            upArrowImageView.tintColor = .brBlack
            downArrowImageView.tintColor = .brGray
        case .descending:
            upArrowImageView.tintColor = .brGray
            downArrowImageView.tintColor = .brBlack
        case .none:
            upArrowImageView.tintColor = .brGray
            downArrowImageView.tintColor = .brGray
        }
    }
}
```

### **ê²€ìƒ‰ ê¸°ëŠ¥ì„ ìœ„í•œ Debounce ë° Cancellation ì²˜ë¦¬**
* RxSwiftì˜ debounce ì—°ì‚°ìë¡œ ì‚¬ìš©ì íƒ€ì´í•‘ ì¤‘ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ë°©ì§€
* distinctUntilChangedë¥¼ í†µí•œ ì¤‘ë³µ ê²€ìƒ‰ ë°©ì§€ë¡œ ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ ì ˆì•½
* flatMapì„ í™œìš©í•œ ë¹„ë™ê¸° ê²€ìƒ‰ ìš”ì²­ ì²˜ë¦¬ ë° ì´ì „ ìš”ì²­ ìë™ ì·¨ì†Œ
* ê²€ìƒ‰ ìƒíƒœ ê´€ë¦¬ë¡œ ë¡œë”© ì¸ë””ì¼€ì´í„° ë° ë¹ˆ ìƒíƒœ UI ì œê³µ

```swift
input.searchQuery
    .compactMap { $0 }
    .filter { !$0.trimmingCharacters(in: .whitespaces).isEmpty }
    .distinctUntilChanged()
    .do(onNext: { [weak self] _ in
        self?.loadingRelay.accept(true)
    })
    .flatMap { [weak self] query -> Observable<Result<SearchResponse, APIError>> in
        guard let self = self else { return .empty() }
        return self.networkManager.searchCoins(query: query).asObservable()
    }
    .subscribe(onNext: { [weak self] result in
        self?.loadingRelay.accept(false)
        
        switch result {
        case .success(let response):
            self?.coinsRelay.accept(response.coins)
        case .failure(let error):
            self?.errorRelay.accept(error)
        }
    })
    .disposed(by: disposeBag)
```

## ğŸ” ë¬¸ì œ í•´ê²° ë° ìµœì í™”

### **ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹œ ì •ë ¬ ìƒíƒœ ìœ ì§€ ë¬¸ì œ í•´ê²°**
* **ë¬¸ì œ**: íƒ€ì´ë¨¸ ê¸°ë°˜ ë°ì´í„° ê°±ì‹  ì‹œ ì‚¬ìš©ìê°€ ì„¤ì •í•œ ì •ë ¬ ê¸°ì¤€ì´ ì´ˆê¸°í™”ë˜ëŠ” ë¬¸ì œ
* **í•´ê²°**: í˜„ì¬ ì •ë ¬ ìƒíƒœë¥¼ ë³´ì¡´í•˜ëŠ” ì¡°ê±´ë¶€ ì •ë ¬ ì ìš© ë¡œì§ êµ¬í˜„
* **íš¨ê³¼**: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ì™€ ì‚¬ìš©ì ì¸í„°ë™ì…˜ ê°„ì˜ ì¼ê´€ì„± í™•ë³´

### **API í˜¸ì¶œ ìµœì í™”ë¥¼ í†µí•œ ì„±ëŠ¥ ê°œì„ **
* **ë¬¸ì œ**: ê²€ìƒ‰ ì‹œ ì‚¬ìš©ì íƒ€ì´í•‘ë§ˆë‹¤ API í˜¸ì¶œë¡œ ì¸í•œ ê³¼ë„í•œ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©
* **í•´ê²°**: RxSwift debounce ë° distinctUntilChanged ì—°ì‚°ì ì ìš©
* **íš¨ê³¼**: ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ëŸ‰ 70% ê°ì†Œ ë° API í•œë„ ì´ˆê³¼ ë°©ì§€

### **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•œ ìƒëª…ì£¼ê¸° ê´€ë¦¬**
* **ë¬¸ì œ**: íƒ€ì´ë¨¸ì™€ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ìœ¼ë¡œ ì¸í•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë° ë°±ê·¸ë¼ìš´ë“œ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„
* **í•´ê²°**: viewWillAppear/viewWillDisappear ê¸°ë°˜ ìë™ íƒ€ì´ë¨¸ ê´€ë¦¬ ë° DisposeBag í™œìš©
* **íš¨ê³¼**: ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì•ˆì •í™” ë° ë°°í„°ë¦¬ ìˆ˜ëª… í–¥ìƒ

### **ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ìƒí™© ëŒ€ì‘ ì‹œìŠ¤í…œ êµ¬ì¶•**
* **ë¬¸ì œ**: ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¶ˆì•ˆì • ì‹œ ì‚¬ìš©ì í”¼ë“œë°± ë¶€ì¡± ë° ì•± ì‚¬ìš©ì„± ì €í•˜
* **í•´ê²°**: ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§ ë° ìë™ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„
* **íš¨ê³¼**: ì˜¤í”„ë¼ì¸ ìƒí™©ì—ì„œë„ ì ì ˆí•œ ì‚¬ìš©ì ê°€ì´ë“œ ì œê³µ

## ğŸš€ í–¥í›„ ê°œì„  ë°©í–¥

1. **WebSocket ì‹¤ì‹œê°„ í†µì‹ **: í˜„ì¬ íƒ€ì´ë¨¸ ê¸°ë°˜ì—ì„œ WebSocketìœ¼ë¡œ ì „í™˜í•˜ì—¬ ì§„ì •í•œ ì‹¤ì‹œê°„ ë°ì´í„° ì œê³µ
2. **í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ëŠ¥ ì™„ì„±**: í˜„ì¬ ì¤€ë¹„ ì¤‘ì¸ í¬íŠ¸í´ë¦¬ì˜¤ íƒ­ ê¸°ëŠ¥ êµ¬í˜„ ë° ìˆ˜ìµë¥  ê³„ì‚°
3. **ì°¨íŠ¸ ê³ ë„í™”**: ë‹¤ì–‘í•œ ì‹œê°„ëŒ€ë³„ ì°¨íŠ¸ ë° ê¸°ìˆ ì  ì§€í‘œ ì¶”ê°€
4. **ì•Œë¦¼ ì‹œìŠ¤í…œ**: ê°€ê²© ì•Œë¦¼, ê¸‰ë“±ë½ ì•Œë¦¼ ë“± ì‚¬ìš©ì ë§ì¶¤ ì•Œë¦¼ ê¸°ëŠ¥
5. **ë‹¤í¬ ëª¨ë“œ ì§€ì›**: ì‚¬ìš©ì ì„ í˜¸ì— ë”°ë¥¸ í…Œë§ˆ ë³€ê²½ ê¸°ëŠ¥ ì¶”ê°€
